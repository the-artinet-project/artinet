{
  "$ref": "#/definitions/AgentDefinition",
  "definitions": {
    "AgentDefinition": {
      "type": "object",
      "properties": {
        "protocolVersion": {
          "type": "string",
          "default": "0.3.0",
          "description": "The version of the A2A protocol this agent supports."
        },
        "name": {
          "type": "string",
          "description": "Human readable name of the agent."
        },
        "description": {
          "type": "string",
          "description": "A human-readable description of the agent."
        },
        "url": {
          "type": "string",
          "format": "uri",
          "description": "The preferred endpoint URL for interacting with the agent."
        },
        "preferredTransport": {
          "anyOf": [
            {
              "type": "string",
              "enum": [
                "JSONRPC",
                "GRPC",
                "HTTP+JSON"
              ]
            },
            {
              "type": "string"
            }
          ],
          "description": "The preferred transport protocol for the agent."
        },
        "additionalInterfaces": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "url": {
                "type": "string",
                "format": "uri",
                "description": "The URL where this interface is available. Must be a valid absolute HTTPS URL in production."
              },
              "transport": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/AgentDefinition/properties/preferredTransport/anyOf/0"
                  },
                  {
                    "type": "string"
                  }
                ],
                "description": "The transport protocol supported at this URL."
              }
            },
            "required": [
              "url",
              "transport"
            ],
            "additionalProperties": false
          },
          "description": "Additional supported interfaces (transport and URL combinations)."
        },
        "iconUrl": {
          "type": "string",
          "format": "uri",
          "description": "The URL of the agent's icon."
        },
        "provider": {
          "type": "object",
          "properties": {
            "organization": {
              "type": "string",
              "description": "The name of the organization providing the agent."
            },
            "url": {
              "type": "string",
              "format": "uri",
              "description": "URL associated with the agent provider."
            }
          },
          "required": [
            "organization",
            "url"
          ],
          "additionalProperties": false,
          "description": "The service provider of the agent."
        },
        "version": {
          "type": "string",
          "description": "The version identifier for the agent or its API."
        },
        "documentationUrl": {
          "type": "string",
          "format": "uri",
          "description": "An optional URL pointing to the agent's documentation."
        },
        "capabilities": {
          "type": "object",
          "properties": {
            "streaming": {
              "type": "boolean",
              "description": "Indicates if the agent supports streaming responses."
            },
            "pushNotifications": {
              "type": "boolean",
              "description": "Indicates if the agent supports push notification mechanisms."
            },
            "stateTransitionHistory": {
              "type": "boolean",
              "description": "Indicates if the agent supports providing state transition history."
            },
            "extensions": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "uri": {
                    "type": "string",
                    "description": "The URI of the extension."
                  },
                  "description": {
                    "type": "string",
                    "description": "A description of how this agent uses this extension."
                  },
                  "required": {
                    "type": "boolean",
                    "description": "Whether the client must follow specific requirements of the extension."
                  },
                  "params": {
                    "type": "object",
                    "additionalProperties": {},
                    "description": "Optional configuration for the extension."
                  }
                },
                "required": [
                  "uri"
                ],
                "additionalProperties": false,
                "description": "A declaration of an extension supported by an Agent."
              },
              "description": "Extensions supported by this agent."
            }
          },
          "additionalProperties": false,
          "description": "The capabilities supported by the agent."
        },
        "securitySchemes": {
          "type": "object",
          "additionalProperties": {
            "anyOf": [
              {
                "type": "object",
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "apiKey",
                      "http",
                      "mutualTLS",
                      "oauth2",
                      "openIdConnect"
                    ],
                    "description": "API Key Type of the security scheme."
                  },
                  "description": {
                    "type": "string",
                    "description": "Description of this security scheme."
                  },
                  "in": {
                    "type": "string",
                    "enum": [
                      "query",
                      "header",
                      "cookie"
                    ],
                    "description": "The location of the API key. Valid values are 'query', 'header', or 'cookie'."
                  },
                  "name": {
                    "type": "string",
                    "description": "The name of the header, query or cookie parameter to be used."
                  }
                },
                "required": [
                  "type",
                  "in",
                  "name"
                ],
                "additionalProperties": false,
                "description": "Defines a security scheme using an API key."
              },
              {
                "type": "object",
                "properties": {
                  "type": {
                    "$ref": "#/definitions/AgentDefinition/properties/securitySchemes/additionalProperties/anyOf/0/properties/type",
                    "description": "HTTP Type of the security scheme."
                  },
                  "description": {
                    "$ref": "#/definitions/AgentDefinition/properties/securitySchemes/additionalProperties/anyOf/0/properties/description"
                  },
                  "scheme": {
                    "type": "string",
                    "description": "The name of the HTTP Authentication scheme to be used in the Authorization header as defined in RFC7235. The values used SHOULD be registered in the IANA Authentication Scheme registry. The value is case-insensitive, as defined in RFC7235."
                  },
                  "bearerFormat": {
                    "type": "string",
                    "description": "A hint to the client to identify how the bearer token is formatted. Bearer tokens are usually generated by an authorization server, so this information is primarily for documentation purposes."
                  }
                },
                "required": [
                  "type",
                  "scheme"
                ],
                "additionalProperties": false,
                "description": "Base properties shared by all security schemes."
              },
              {
                "type": "object",
                "properties": {
                  "type": {
                    "$ref": "#/definitions/AgentDefinition/properties/securitySchemes/additionalProperties/anyOf/0/properties/type",
                    "description": "OAuth2 Type of the security scheme."
                  },
                  "description": {
                    "$ref": "#/definitions/AgentDefinition/properties/securitySchemes/additionalProperties/anyOf/0/properties/description"
                  },
                  "flows": {
                    "type": "object",
                    "properties": {
                      "authorizationCode": {
                        "type": "object",
                        "properties": {
                          "authorizationUrl": {
                            "type": "string",
                            "format": "uri",
                            "description": "The authorization URL to be used for this flow. This MUST be in the form of a URL. The OAuth2 standard requires the use of TLS"
                          },
                          "tokenUrl": {
                            "type": "string",
                            "format": "uri",
                            "description": "The token URL to be used for this flow. This MUST be in the form of a URL. The OAuth2 standard requires the use of TLS."
                          },
                          "refreshUrl": {
                            "type": "string",
                            "format": "uri",
                            "description": "The URL to be used for obtaining refresh tokens. This MUST be in the form of a URL. The OAuth2 standard requires the use of TLS."
                          },
                          "scopes": {
                            "type": "object",
                            "additionalProperties": {
                              "type": "string"
                            },
                            "description": "The available scopes for the OAuth2 security scheme. A map between the scope name and a short description for it. The map MAY be empty."
                          }
                        },
                        "required": [
                          "authorizationUrl",
                          "tokenUrl",
                          "scopes"
                        ],
                        "additionalProperties": false,
                        "description": "Configuration for the OAuth Authorization Code flow"
                      },
                      "clientCredentials": {
                        "type": "object",
                        "properties": {
                          "tokenUrl": {
                            "type": "string",
                            "format": "uri",
                            "description": "The token URL to be used for this flow. This MUST be in the form of a URL. The OAuth2 standard requires the use of TLS."
                          },
                          "refreshUrl": {
                            "type": "string",
                            "format": "uri",
                            "description": "The URL to be used for obtaining refresh tokens. This MUST be in the form of a URL. The OAuth2 standard requires the use of TLS."
                          },
                          "scopes": {
                            "type": "object",
                            "additionalProperties": {
                              "type": "string"
                            },
                            "description": "The available scopes for the OAuth2 security scheme. A map between the scope name and a short description for it. The map MAY be empty."
                          }
                        },
                        "required": [
                          "tokenUrl",
                          "scopes"
                        ],
                        "additionalProperties": false,
                        "description": "Configuration for the OAuth Client Credentials flow"
                      },
                      "implicit": {
                        "type": "object",
                        "properties": {
                          "authorizationUrl": {
                            "type": "string",
                            "format": "uri",
                            "description": "The authorization URL to be used for this flow. This MUST be in the form of a URL. The OAuth2 standard requires the use of TLS"
                          },
                          "refreshUrl": {
                            "type": "string",
                            "format": "uri",
                            "description": "The URL to be used for obtaining refresh tokens. This MUST be in the form of a URL. The OAuth2 standard requires the use of TLS."
                          },
                          "scopes": {
                            "type": "object",
                            "additionalProperties": {
                              "type": "string"
                            },
                            "description": "The available scopes for the OAuth2 security scheme. A map between the scope name and a short description for it. The map MAY be empty."
                          }
                        },
                        "required": [
                          "authorizationUrl",
                          "scopes"
                        ],
                        "additionalProperties": false,
                        "description": "Configuration for the OAuth Implicit flow"
                      },
                      "password": {
                        "type": "object",
                        "properties": {
                          "tokenUrl": {
                            "type": "string",
                            "format": "uri",
                            "description": "The token URL to be used for this flow. This MUST be in the form of a URL. The OAuth2 standard requires the use of TLS."
                          },
                          "refreshUrl": {
                            "type": "string",
                            "format": "uri",
                            "description": "The URL to be used for obtaining refresh tokens. This MUST be in the form of a URL. The OAuth2 standard requires the use of TLS."
                          },
                          "scopes": {
                            "type": "object",
                            "additionalProperties": {
                              "type": "string"
                            },
                            "description": "The available scopes for the OAuth2 security scheme. A map between the scope name and a short description for it. The map MAY be empty."
                          }
                        },
                        "required": [
                          "tokenUrl",
                          "scopes"
                        ],
                        "additionalProperties": false,
                        "description": "Configuration for the OAuth Resource Owner Password flow"
                      }
                    },
                    "additionalProperties": false,
                    "description": "An object containing configuration information for the flow types supported."
                  },
                  "oauth2MetadataUrl": {
                    "type": "string",
                    "format": "uri",
                    "description": "URL to the oauth2 authorization server metadata"
                  }
                },
                "required": [
                  "type",
                  "flows"
                ],
                "additionalProperties": false,
                "description": "OAuth2 security scheme configuration."
              },
              {
                "type": "object",
                "properties": {
                  "type": {
                    "$ref": "#/definitions/AgentDefinition/properties/securitySchemes/additionalProperties/anyOf/0/properties/type"
                  },
                  "description": {
                    "$ref": "#/definitions/AgentDefinition/properties/securitySchemes/additionalProperties/anyOf/0/properties/description"
                  },
                  "openIdConnectUrl": {
                    "type": "string",
                    "format": "uri"
                  }
                },
                "required": [
                  "type",
                  "openIdConnectUrl"
                ],
                "additionalProperties": false,
                "description": "Base properties shared by all security schemes."
              },
              {
                "type": "object",
                "properties": {
                  "type": {
                    "$ref": "#/definitions/AgentDefinition/properties/securitySchemes/additionalProperties/anyOf/0/properties/type"
                  },
                  "description": {
                    "$ref": "#/definitions/AgentDefinition/properties/securitySchemes/additionalProperties/anyOf/0/properties/description"
                  }
                },
                "required": [
                  "type"
                ],
                "additionalProperties": false,
                "description": "Base properties shared by all security schemes."
              }
            ]
          },
          "description": "Security scheme details used for authenticating with this agent. Maps scheme names to their configurations."
        },
        "security": {
          "type": "array",
          "items": {
            "type": "object",
            "additionalProperties": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          "description": "Security requirements for contacting the agent. Array of security requirement objects, where each object maps scheme names to scope arrays."
        },
        "defaultInputModes": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "The default input modes supported by the agent."
        },
        "defaultOutputModes": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "The default output modes supported by the agent."
        },
        "skills": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "id": {
                "type": "string",
                "description": "Unique identifier for the skill."
              },
              "name": {
                "type": "string",
                "description": "Human-readable name of the skill."
              },
              "description": {
                "type": "string",
                "description": "Description of the skill."
              },
              "tags": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "description": "List of tags associated with the skill for categorization."
              },
              "examples": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "description": "List of example inputs or use cases for the skill."
              },
              "inputModes": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "description": "List of input modes supported by this skill."
              },
              "outputModes": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "description": "List of output modes supported by this skill."
              },
              "security": {
                "type": "array",
                "items": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                },
                "description": "Security schemes necessary for the agent to leverage this skill."
              }
            },
            "required": [
              "id",
              "name",
              "description",
              "tags"
            ],
            "additionalProperties": false,
            "description": "A unit of capability that an agent can perform."
          },
          "description": "List of specific skills offered by the agent."
        },
        "supportsAuthenticatedExtendedCard": {
          "type": "boolean",
          "description": "True if the agent supports providing an extended agent card when the user is authenticated."
        },
        "signatures": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "protected": {
                "type": "string",
                "description": "The protected JWS header for the signature."
              },
              "signature": {
                "type": "string",
                "description": "The computed signature, Base64url-encoded."
              },
              "header": {
                "type": "object",
                "additionalProperties": {},
                "description": "The unprotected JWS header values."
              }
            },
            "required": [
              "protected",
              "signature"
            ],
            "additionalProperties": false,
            "description": "A JWS signature of an AgentCard."
          },
          "description": "JSON Web Signatures computed for this AgentCard."
        },
        "id": {
          "type": "string",
          "description": "Unique agent identifier"
        },
        "modelId": {
          "type": "string",
          "description": "Model identifier"
        },
        "toolIds": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "default": [],
          "description": "List of tool ids that this agent can use"
        },
        "agentIds": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "The agent ids that this agent can call"
        },
        "groupIds": {
          "type": "array",
          "items": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string",
                    "description": "Group identifier (e.g., 'team:backend', 'project:api-v2')"
                  },
                  "properties": {
                    "type": "object",
                    "additionalProperties": {},
                    "description": "Optional properties of the group (e.g., role, priority, status)"
                  }
                },
                "required": [
                  "id"
                ],
                "additionalProperties": false
              }
            ]
          },
          "default": [],
          "description": "List of group ids that this agent belongs to"
        },
        "instructions": {
          "type": "string",
          "description": "System prompt for the agent"
        }
      },
      "required": [
        "name",
        "description",
        "version",
        "skills",
        "instructions"
      ],
      "additionalProperties": false,
      "description": "An AgentCard conveys key information about an agent's identity, capabilities, skills, authentication requirements, and communication modalities."
    }
  },
  "$schema": "http://json-schema.org/draft-07/schema#"
}